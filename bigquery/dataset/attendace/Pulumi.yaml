name: workday-bq-schema
runtime: yaml
description: Creating a BigQuery table from a JSON schema file
#something
resources:
  # 1. Create the Dataset (The "Folder")
  attendanceDataset:
    type: gcp:bigquery:Dataset
    properties:
      datasetId: "wb-sanjay07-pr-70b795"

  # 2. Create the Table (The "File")
  attendanceTable:
    type: gcp:bigquery:Table
    properties:
      datasetId: ${attendanceDataset.datasetId}
      tableId: "smb_attendance_tbl"
      deletionProtection: false
      # This is the "magic" line:
      schema: 
        fn::readFile: ./schema.json
